"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const Joi = require("joi");
async function validateCadenceContext(cadence) {
    const targetHours = Joi.object()
        .keys({
        cadenceHoursId: Joi.number(),
        cadenceId: Joi.number(),
        dayOfWeek: Joi.number().required(),
        startTime: Joi.string().required(),
        endTime: Joi.string().required()
    })
        .unknown(true);
    const cadenceHours = Joi.object()
        .keys({
        cadenceHoursId: Joi.number(),
        cadenceId: Joi.number(),
        dayOfWeek: Joi.number().required(),
        startTime: Joi.string().required(),
        endTime: Joi.string().required()
    })
        .unknown(true);
    const cadenceActions = Joi.object()
        .keys({
        cadenceId: Joi.number(),
        cadenceActionId: Joi.number(),
        status: Joi.string().required(),
        actionIndex: Joi.number().required(),
        type: Joi.string().required(),
        durationFromLastAction: Joi.number().required(),
        durationGrouping: Joi.string().required(),
        calculatedDuration: Joi.number().required(),
        retryCall: Joi.number().required(),
        maxRetries: Joi.number().required(),
        callRetryIn: Joi.number().required(),
        retryGrouping: Joi.string().required(),
        smsTemplatedId: Joi.number().optional(),
        smsMessage: Joi.string().allow(null),
    })
        .unknown(true);
    const cadenceHarrassmentPolicies = Joi.object()
        .keys({
        cadenceHarrassmentPolicyId: Joi.number().optional(),
        channel: Joi.string().required(),
        frequency: Joi.number(),
        durationCount: Joi.number(),
        durationGrouping: Date,
        calculatedDuration: Joi.number(),
        cadenceId: Joi.number()
    });
    const cadenceDispositionRules = Joi.object()
        .keys({
        cadenceDispositionRuleId: Joi.number(),
        dispositionId: Joi.number(),
        cadenceId: Joi.number(),
        action: Joi.string().required(),
        targetCadence: Joi.number()
    });
    const cadenceSchema = Joi.object()
        .keys({
        cadenceId: Joi.number(),
        businessId: Joi.number().required(),
        status: Joi.string().required(),
        cadenceName: Joi.string().required(),
        eventUrl: Joi.string().required(),
        checkDnc: Joi.number().required(),
        reEnrollment: Joi.number().required(),
        useContactOwner: Joi.number().required(),
        autoAssignOwner: Joi.number().required(),
        version: Joi.number().required(),
        queueid: Joi.number().required(),
        cadenceActions: Joi.array().items(cadenceActions),
        cadenceHours: Joi.array().items(cadenceHours),
        targetHours: Joi.array().items(targetHours),
        cadenceHarrassmentPolicies: Joi.array().items(cadenceHarrassmentPolicies),
        cadenceDispositionRules: Joi.array().items(cadenceDispositionRules),
    })
        .unknown(true);
    await cadenceSchema.validateAsync(cadence);
}
exports.default = validateCadenceContext;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY2FkZW5jZVZhbGlkYXRvci5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbImNhZGVuY2VWYWxpZGF0b3IudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSwyQkFBMkI7QUFFWixLQUFLLFVBQVUsc0JBQXNCLENBQUMsT0FBVztJQUM1RCxNQUFNLFdBQVcsR0FBRyxHQUFHLENBQUMsTUFBTSxFQUFFO1NBQy9CLElBQUksQ0FBQztRQUNGLGNBQWMsRUFBRSxHQUFHLENBQUMsTUFBTSxFQUFFO1FBQzVCLFNBQVMsRUFBRSxHQUFHLENBQUMsTUFBTSxFQUFFO1FBQ3ZCLFNBQVMsRUFBRSxHQUFHLENBQUMsTUFBTSxFQUFFLENBQUMsUUFBUSxFQUFFO1FBQ2xDLFNBQVMsRUFBRSxHQUFHLENBQUMsTUFBTSxFQUFFLENBQUMsUUFBUSxFQUFFO1FBQ2xDLE9BQU8sRUFBRSxHQUFHLENBQUMsTUFBTSxFQUFFLENBQUMsUUFBUSxFQUFFO0tBQ25DLENBQUM7U0FDRCxPQUFPLENBQUMsSUFBSSxDQUFDLENBQUM7SUFFZixNQUFNLFlBQVksR0FBRyxHQUFHLENBQUMsTUFBTSxFQUFFO1NBQ2hDLElBQUksQ0FBQztRQUNGLGNBQWMsRUFBRSxHQUFHLENBQUMsTUFBTSxFQUFFO1FBQzVCLFNBQVMsRUFBRSxHQUFHLENBQUMsTUFBTSxFQUFFO1FBQ3ZCLFNBQVMsRUFBRSxHQUFHLENBQUMsTUFBTSxFQUFFLENBQUMsUUFBUSxFQUFFO1FBQ2xDLFNBQVMsRUFBRSxHQUFHLENBQUMsTUFBTSxFQUFFLENBQUMsUUFBUSxFQUFFO1FBQ2xDLE9BQU8sRUFBRSxHQUFHLENBQUMsTUFBTSxFQUFFLENBQUMsUUFBUSxFQUFFO0tBQ25DLENBQUM7U0FDRCxPQUFPLENBQUMsSUFBSSxDQUFDLENBQUM7SUFFZixNQUFNLGNBQWMsR0FBRyxHQUFHLENBQUMsTUFBTSxFQUFFO1NBQ2xDLElBQUksQ0FBQztRQUNFLFNBQVMsRUFBRSxHQUFHLENBQUMsTUFBTSxFQUFFO1FBQ3ZC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Q0FBQyxRQUFRLEVBQUU7UUFDeEMsT0FBTyxFQUFFLEdBQUcsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxRQUFRLEVBQUU7UUFDaEMsT0FBTyxFQUFFLEdBQUcsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxRQUFRLEVBQUU7UUFDaEMsY0FBYyxFQUFFLEdBQUcsQ0FBQyxLQUFLLEVBQUUsQ0FBQyxLQUFLLENBQUMsY0FBYyxDQUFDO1FBQ2pELFlBQVksRUFBRSxHQUFHLENBQUMsS0FBSyxFQUFFLENBQUMsS0FBSyxDQUFDLFlBQVksQ0FBQztRQUM3QyxXQUFXLEVBQUUsR0FBRyxDQUFDLEtBQUssRUFBRSxDQUFDLEtBQUssQ0FBQyxXQUFXLENBQUM7UUFDM0MsMEJBQTBCLEVBQUUsR0FBRyxDQUFDLEtBQUssRUFBRSxDQUFDLEtBQUssQ0FBQywwQkFBMEIsQ0FBQztRQUN6RSx1QkFBdUIsRUFBRSxHQUFHLENBQUMsS0FBSyxFQUFFLENBQUMsS0FBSyxDQUFDLHVCQUF1QixDQUFDO0tBRXRFLENBQUM7U0FDRCxPQUFPLENBQUMsSUFBSSxDQUFDLENBQUM7SUFJZixNQUFNLGFBQWEsQ0FBQyxhQUFhLENBQUMsT0FBTyxDQUFDLENBQUM7QUFFL0MsQ0FBQztBQTFGRCx5Q0EwRkMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBKb2kgZnJvbSAnam9pJztcblxuZXhwb3J0IGRlZmF1bHQgYXN5bmMgZnVuY3Rpb24gdmFsaWRhdGVDYWRlbmNlQ29udGV4dChjYWRlbmNlOmFueSkge1xuICAgIGNvbnN0IHRhcmdldEhvdXJzID0gSm9pLm9iamVjdCgpXG4gICAgLmtleXMoe1xuICAgICAgICBjYWRlbmNlSG91cnNJZDogSm9pLm51bWJlcigpLFxuICAgICAgICBjYWRlbmNlSWQ6IEpvaS5udW1iZXIoKSxcbiAgICAgICAgZGF5T2ZXZWVrOiBKb2kubnVtYmVyKCkucmVxdWlyZWQoKSxcbiAgICAgICAgc3RhcnRUaW1lOiBKb2kuc3RyaW5nKCkucmVxdWlyZWQoKSxcbiAgICAgICAgZW5kVGltZTogSm9pLnN0cmluZygpLnJlcXVpcmVkKClcbiAgICB9KVxuICAgIC51bmtub3duKHRydWUpO1xuICAgIFxuICAgIGNvbnN0IGNhZGVuY2VIb3VycyA9IEpvaS5vYmplY3QoKVxuICAgIC5rZXlzKHtcbiAgICAgICAgY2FkZW5jZUhvdXJzSWQ6IEpvaS5udW1iZXIoKSxcbiAgICAgICAgY2FkZW5jZUlkOiBKb2kubnVtYmVyKCksXG4gICAgICAgIGRheU9mV2VlazogSm9pLm51bWJlcigpLnJlcXVpcmVkKCksXG4gICAgICAgIHN0YXJ0VGltZTogSm9pLnN0cmluZygpLnJlcXVpcmVkKCksXG4gICAgICAgIGVuZFRpbWU6IEpvaS5zdHJpbmcoKS5yZXF1aXJlZCgpXG4gICAgfSlcbiAgICAudW5rbm93bih0cnVlKTtcbiAgICBcbiAgICBjb25zdCBjYWRlbmNlQWN0aW9ucyA9IEpvaS5vYmplY3QoKVxuICAgIC5rZXlzKHtcbiAgICAgICAgICAgIGNhZGVuY2VJZDogSm9pLm51bWJlcigpLFxuICAgICAgICAgICAgY2FkZW5jZUFjdGlvbklkOiBKb2kubnVtYmVyKCksXG4gICAgICAgICAgICBzdGF0dXM6IEpvaS5zdHJpbmcoKS5yZXF1aXJlZCgpLFxuICAgICAgICAgICAgYWN0aW9uSW5kZXg6IEpvaS5udW1iZXIoKS5yZXF1aXJlZCgpLFxuICAgICAgICAgICAgdHlwZTogSm9pLnN0cmluZygpLnJlcXVpcmVkKCksXG4gICAgICAgICAgICBkdXJhdGlvbkZyb21MYXN0QWN0aW9uOiAgSm9pLm51bWJlcigpLnJlcXVpcmVkKCksXG4gICAgICAgICAgICBkdXJhdGlvbkdyb3VwaW5nOiAgSm9pLnN0cmluZygpLnJlcXVpcmVkKCksXG4gICAgICAgICAgICBjYWxjdWxhdGVkRHVyYXRpb246IEpvaS5udW1iZXIoKS5yZXF1aXJlZCgpLFxuICAgICAgICAgICAgcmV0cnlDYWxsOiBKb2kubnVtYmVyKCkucmVxdWlyZWQoKSxcbiAgICAgICAgICAgIG1heFJldHJpZXM6IEpvaS5udW1iZXIoKS5yZXF1aXJlZCgpLFxuICAgICAgICAgICAgY2FsbFJldHJ5SW46IEpvaS5udW1iZXIoKS5yZXF1aXJlZCgpLFxuICAgICAgICAgICAgcmV0cnlHcm91cGluZzogSm9pLnN0cmluZygpLnJlcXVpcmVkKCksXG4gICAgICAgICAgICBzbXNUZW1wbGF0ZWRJZDogSm9pLm51bWJlcigpLm9wdGlvbmFsKCksXG4gICAgICAgICAgICBzbXNNZXNzYWdlOiBKb2kuc3RyaW5nKCkuYWxsb3cobnVsbCksXG4gICAgICAgIFxuICAgIH0pXG4gICAgLnVua25vd24odHJ1ZSk7XG5cbiAgICBjb25zdCBjYWRlbmNlSGFycmFzc21lbnRQb2xpY2llczphbnkgPSBKb2kub2JqZWN0KClcbiAgICAua2V5cyhcbiAgICAgICAge1xuICAgICAgICAgICAgY2FkZW5jZUhhcnJhc3NtZW50UG9saWN5SWQ6IEpvaS5udW1iZXIoKS5vcHRpb25hbCgpLFxuICAgICAgICAgICAgY2hhbm5lbDogSm9pLnN0cmluZygpLnJlcXVpcmVkKCksXG4gICAgICAgICAgICBmcmVxdWVuY3k6IEpvaS5udW1iZXIoKSxcbiAgICAgICAgICAgIGR1cmF0aW9uQ291bnQ6IEpvaS5udW1iZXIoKSxcbiAgICAgICAgICAgIGR1cmF0aW9uR3JvdXBpbmc6IERhdGUsXG4gICAgICAgICAgICBjYWxjdWxhdGVkRHVyYXRpb246IEpvaS5udW1iZXIoKSxcbiAgICAgICAgICAgIGNhZGVuY2VJZDogSm9pLm51bWJlcigpXG4gICAgICAgIH0pO1xuXG5cbiAgICAgICAgY29uc3QgY2FkZW5jZURpc3Bvc2l0aW9uUnVsZXM6YW55ID0gSm9pLm9iamVjdCgpXG4gICAgICAgIC5rZXlzKFxuICAgICAgICB7XG4gICAgICAgICAgICBjYWRlbmNlRGlzcG9zaXRpb25SdWxlSWQ6IEpvaS5udW1iZXIoKSxcbiAgICAgICAgICAgIGRpc3Bvc2l0aW9uSWQ6IEpvaS5udW1iZXIoKSxcbiAgICAgICAgICAgIGNhZGVuY2VJZDogSm9pLm51bWJlcigpLFxuICAgICAgICAgICAgYWN0aW9uOiBKb2kuc3RyaW5nKCkucmVxdWlyZWQoKSxcbiAgICAgICAgICAgIHRhcmdldENhZGVuY2U6IEpvaS5udW1iZXIoKVxuICAgICAgICB9KTtcblxuICAgIGNvbnN0IGNhZGVuY2VTY2hlbWE6YW55ID0gSm9pLm9iamVjdCgpXG4gICAgLmtleXMoe1xuICAgICAgICBjYWRlbmNlSWQ6IEpvaS5udW1iZXIoKSxcbiAgICAgICAgYnVzaW5lc3NJZDogSm9pLm51bWJlcigpLnJlcXVpcmVkKCksXG4gICAgICAgIHN0YXR1czogSm9pLnN0cmluZygpLnJlcXVpcmVkKCksXG4gICAgICAgIGNhZGVuY2VOYW1lOiBKb2kuc3RyaW5nKCkucmVxdWlyZWQoKSxcbiAgICAgICAgZXZlbnRVcmw6IEpvaS5zdHJpbmcoKS5yZXF1aXJlZCgpLFxuICAgICAgICBjaGVja0RuYzogSm9pLm51bWJlcigpLnJlcXVpcmVkKCksXG4gICAgICAgIHJlRW5yb2xsbWVudDogSm9pLm51bWJlcigpLnJlcXVpcmVkKCksXG4gICAgICAgIHVzZUNvbnRhY3RPd25lcjogSm9pLm51bWJlcigpLnJlcXVpcmVkKCksXG4gICAgICAgIGF1dG9Bc3NpZ25Pd25lcjogSm9pLm51bWJlcigpLnJlcXVpcmVkKCksXG4gICAgICAgIHZlcnNpb246IEpvaS5udW1iZXIoKS5yZXF1aXJlZCgpLFxuICAgICAgICBxdWV1ZWlkOiBKb2kubnVtYmVyKCkucmVxdWlyZWQoKSxcbiAgICAgICAgY2FkZW5jZUFjdGlvbnM6IEpvaS5hcnJheSgpLml0ZW1zKGNhZGVuY2VBY3Rpb25zKSxcbiAgICAgICAgY2FkZW5jZUhvdXJzOiBKb2kuYXJyYXkoKS5pdGVtcyhjYWRlbmNlSG91cnMpLFxuICAgICAgICB0YXJnZXRIb3VyczogSm9pLmFycmF5KCkuaXRlbXModGFyZ2V0SG91cnMpLFxuICAgICAgICBjYWRlbmNlSGFycmFzc21lbnRQb2xpY2llczogSm9pLmFycmF5KCkuaXRlbXMoY2FkZW5jZUhhcnJhc3NtZW50UG9saWNpZXMpLFxuICAgICAgICBjYWRlbmNlRGlzcG9zaXRpb25SdWxlczogSm9pLmFycmF5KCkuaXRlbXMoY2FkZW5jZURpc3Bvc2l0aW9uUnVsZXMpLFxuXG4gICAgfSlcbiAgICAudW5rbm93bih0cnVlKTtcblxuXG5cbiAgICBhd2FpdCBjYWRlbmNlU2NoZW1hLnZhbGlkYXRlQXN5bmMoY2FkZW5jZSk7XG4gICAgXG59XG5cblxuIl19